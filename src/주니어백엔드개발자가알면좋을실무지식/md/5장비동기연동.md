# 5장 비동기연동
메인한 작업이 아니면 비동기로 처리해도 된다~
다만 비동기 작업은 메인 스레드의 트랜잭션 범위 밖에 있으니깐 이 점 유의해야함

메세지 쏠 때는 db트렌젝션이 끝난 후에 쏘는 것이 좋다. 

## 트렌젝션 아웃박스 패턴
메세지 데이터가 절대 유실되지 않는다. 
메세지 전송에 따라 상태 변경해줌. 
아니면 별도 테이블에 발송 완료한 id를 기록하면 됨. 

## 배치 전송
(정산)데이터를 api가 아니라 파일로 하는 이유는 뭐지?

## CDC
변경된 데이터를 추적하고 판별해서 데이터로 작업을 수행할 수 있도록 하는 소프트웨어 패턴
mysql 은 데이터 변경을 통지하는 기능이 있다. -> cdc는 이를 활용함


영향 받는 테이블에 살짝 변형해서 보내도 되고, 다 보내도 된다. 