# 15 ë””ìì¸ íŒ¨í„´ê³¼ í”„ë ˆì„ì›Œí¬
ë””ìì¸íŒ¨í„´: ì„¤ê³„ë¥¼ ì¬ì‚¬ìš©í•˜ê¸°

í”„ë ˆì„ì›Œí¬: ì½”ë“œ í…œí”Œë¦¿ ì¬ì‚¬ìš©

ì¼ê´€ì„± ìˆëŠ” í˜‘ë ¥: ë””ìì¸íŒ¨í„´, í”„ë ˆì„ì›Œí¬

## 01 ë””ìì¸ íŒ¨í„´ê³¼ ì„¤ê³„ ì¬ì‚¬ìš©
composite, ì „ëµ, í…œí”Œë¦¿ ë©”ì„œë“œ, ë°ì½”ë ˆì´í„° íŒ¨í„´ë“¤

ì‹¤ë¬´ì ìœ¼ë¡œ ìœ ìš©í•˜ê²Œ ë²”ìš©ì ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆì„ ì•„ì´ë””ì–´(ë§ˆí‹´ íŒŒìš¸ëŸ¬)

ì•„í‚¤í…ì²˜ íŒ¨í„´> ë¶„ì„ íŒ¨í„´ > ë””ìì¸ íŒ¨í„´ > ì´ë””ì—„

ì´ë””ì—„: íŠ¹ì • ì–¸ì–´ì—ë§Œ êµ­í•œë¨. 

ë¶„ì„ íŒ¨í„´: ë„ë©”ì¸ ë‚´ì—ì„œì˜ ë¬¸ì œ í•´ê²°

---
# composite íŒ¨í„´
ì—¬ëŸ¬ê°œì˜ ê°ì²´ê°€ ê°ì ë‚˜ëˆ ì„œ component, composite, leafë¥¼ ë‹´ë‹¹í•˜ëŠ” ê²½ìš° 
```java
// Component
interface FileSystem {
    void showName();
}

// Leaf
class File implements FileSystem {
    private String name;
    public File(String name) { this.name = name; }

    @Override
    public void showName() {
        System.out.println("ğŸ“„ " + name);
    }
}

// Composite
class Directory implements FileSystem {
    private String name;
    private List<FileSystem> children = new ArrayList<>();

    public Directory(String name) { this.name = name; }

    public void add(FileSystem fs) {
        children.add(fs);
    }

    @Override
    public void showName() {
        System.out.println("ğŸ“ " + name);
        for (FileSystem child : children) {
            child.showName(); // ë™ì¼í•œ ì¸í„°í˜ì´ìŠ¤ë¡œ í˜¸ì¶œ ê°€ëŠ¥
        }
    }
}

// ì‚¬ìš© ì˜ˆì‹œ
public class Main {
    public static void main(String[] args) {
        Directory root = new Directory("root");
        root.add(new File("a.txt"));
        root.add(new File("b.txt"));

        Directory subDir = new Directory("sub");
        subDir.add(new File("c.txt"));

        root.add(subDir);

        root.showName();
    }
}
```

## í•˜ë‚˜ì˜ ê°ì²´ê°€ component, composite, leaf ë¥¼ ëª¨ë‘ í•˜ëŠ” ê²½ìš° 
```java
class OrganizationUnit {
    private final String name;
    private final List<OrganizationUnit> children = new ArrayList<>();

    public OrganizationUnit(String name) {
        this.name = name;
    }

    public void add(OrganizationUnit child) {
        children.add(child);
    }

    public void remove(OrganizationUnit child) {
        children.remove(child);
    }

    public void printStructure(String prefix) {
        System.out.println(prefix + "ğŸ¢ " + name);
        for (OrganizationUnit child : children) {
            child.printStructure(prefix + "    ");
        }
    }

    public boolean isLeaf() {
        return children.isEmpty();
    }
}

public class Main {
    public static void main(String[] args) {
        OrganizationUnit ceo = new OrganizationUnit("CEO");
        OrganizationUnit dev = new OrganizationUnit("ê°œë°œíŒ€");
        OrganizationUnit design = new OrganizationUnit("ë””ìì¸íŒ€");
        OrganizationUnit backend = new OrganizationUnit("ë°±ì—”ë“œíŒŒíŠ¸");
        OrganizationUnit frontend = new OrganizationUnit("í”„ë¡ íŠ¸ì—”ë“œíŒŒíŠ¸");

        ceo.add(dev);
        ceo.add(design);
        dev.add(backend);
        dev.add(frontend);

        ceo.printStructure("");
    }
}
```
| ì—­í•           | ì„¤ëª…                                 |
| ----------- | ---------------------------------- |
| `Component` | ê³µí†µ ì¸í„°í˜ì´ìŠ¤ (ex. `FileSystem`)        |
| `Leaf`      | ì‹¤ì œ ì‘ì—… ìˆ˜í–‰ (ex. `File`)              |
| `Composite` | ì—¬ëŸ¬ Componentë¥¼ í¬í•¨ (ex. `Directory`) |

# ì „ëµ íŒ¨í„´
ê°ì²´ í•©ì„±ì„ ì´ìš©í•´ì„œ ì•Œê³ ë¦¬ì¦˜ ë³€ê²½ì„ ìº¡ìŠí™”í•˜ëŠ” ê²ƒ -> ì¶”ìƒí™”ì— ì˜ì¡´í•¨ 

# í…œí”Œë¦¿ ë©”ì„œë“œ íŒ¨í„´
ì•Œê³ ë¦¬ì¦˜ì„ ìº¡ìŠí™”í•˜ê¸° ìœ„í•´ì„œ í•©ì„± ê´€ê³„ê°€ ì•„ë‹Œ ìƒì† ê´€ê³„ë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒ 

ëŸ°íƒ€ì„ì— ë°”ê¿€ ìˆ˜ëŠ” ì—†ì§€ë§Œ, ë³€ê²½ì´ ì ë‹¤ë©´ ìƒëŒ€ì ìœ¼ë¡œ ì „ëµíŒ¨í„´ë³´ë‹¤ ë³µì¡ë„ë¥¼ ë‚®ì¶œ ìˆ˜ ìˆë‹¤.

# ë°ì½”ë ˆì´í„° íŒ¨í„´
```java
// 1ï¸âƒ£ Component
interface Coffee {
    String getDescription();
    int cost();
}

// 2ï¸âƒ£ ConcreteComponent
class BasicCoffee implements Coffee {
    @Override
    public String getDescription() {
        return "ê¸°ë³¸ ì»¤í”¼";
    }

    @Override
    public int cost() {
        return 3000;
    }
}

// 3ï¸âƒ£ Decorator
abstract class CoffeeDecorator implements Coffee {
    protected Coffee coffee;

    public CoffeeDecorator(Coffee coffee) {
        this.coffee = coffee;
    }

    @Override
    public String getDescription() {
        return coffee.getDescription();
    }

    @Override
    public int cost() {
        return coffee.cost();
    }
}

// 4ï¸âƒ£ ConcreteDecorators
class MilkDecorator extends CoffeeDecorator {
    public MilkDecorator(Coffee coffee) {
        super(coffee);
    }

    @Override
    public String getDescription() {
        return super.getDescription() + ", ìš°ìœ  ì¶”ê°€";
    }

    @Override
    public int cost() {
        return super.cost() + 500;
    }
}

class WhipDecorator extends CoffeeDecorator {
    public WhipDecorator(Coffee coffee) {
        super(coffee);
    }

    @Override
    public String getDescription() {
        return super.getDescription() + ", íœ˜í•‘í¬ë¦¼ ì¶”ê°€";
    }

    @Override
    public int cost() {
        return super.cost() + 700;
    }
}

// 5ï¸âƒ£ ì‹¤í–‰ ì˜ˆì‹œ
public class Main {
    public static void main(String[] args) {
        Coffee coffee = new BasicCoffee();
        coffee = new MilkDecorator(coffee);
        coffee = new WhipDecorator(coffee);

        System.out.println(coffee.getDescription() + " = " + coffee.cost() + "ì›");
    }
}
```
í•©ì„±ì„ ê¸°ë³¸ìœ¼ë¡œ í•´ì„œ ê°ì²´ì˜ í–‰ë™ì„ ë™ì ìœ¼ë¡œ ì¶”ê°€í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” íŒ¨í„´ì´ë‹¤. superë¥¼ ì‚¬ìš©í•´ì„œ ì´ì „ í–‰ë™ì— í•˜ë‚˜ì”© ë®ì–´ì”Œìš´ë‹¤. 

---
íŒ¨í„´ ë§ŒëŠ¥ì£¼ì˜ë¥¼ ê²½ê³„í•´ë¼

# 02 í”„ë ˆì„ì›Œí¬ì™€ ì½”ë“œ ì¬ì‚¬ìš©
ì»´í¬ë„ŒíŠ¸ ì¬ì‚¬ìš©ì€ ë„ë©”ì¸ ì‚¬ì´ì˜ ë‹¤ì–‘ì„± ë•Œë¬¸ì— ë¹„í˜„ì‹¤ì ì´ë‹¤.

ì„¤ê³„ ì¬ì‚¬ìš©ê³¼ ì½”ë“œ ì¬ì‚¬ìš©ì„ ì ì ˆíˆ í˜¼í•©í•´ë³´ì.

ë³€í•˜ëŠ” ë¶€ë¶„ê³¼ ë³€í•˜ì§€ ì•ŠëŠ” ë¶€ë¶„ì„ ë³„ë„ì˜ íŒ¨í‚¤ì§€ë¡œ ë¶„ë¦¬í•œë‹¤?
(ì´ ë¶€ë¶„ ì˜ ì´í•´ ëª»í•¨)

## ì˜ì¡´ì„± ì—­ì „
ìƒìœ„ ëª¨ë¸ì´ í•˜ìœ„ ëª¨ë¸ì— ì§ì ‘ ì˜ì¡´í•˜ì§€ ë§ë¼
ìƒìœ„ ëª¨ë¸ê³¼ í•˜ìœ„ ëª¨ë¸ ëª¨ë‘ ì¶”ìƒí™”ì— ì˜ì¡´í•´ë¼. 

