# IO기본2

## 문자다루기 1
스트림의 모든 데이터는 byte 단위를 사용한다.

```java
import static io.text.TextConst.FILE_NAME;
import static java.nio.charset.StandardCharsets.UTF_8;
public class ReaderWriterMainV1 {
    public static void main(String[] args) throws IOException {
        String writeString = "ABC";
        // 문자 -> byte UTF-8 인코딩
        byte[] writeBytes = writeString.getBytes(UTF_8);
        System.out.println("write String: " + writeString);
        System.out.println("write bytes: " + Arrays.toString(writeBytes));
        // 파일에 쓰기
        FileOutputStream fos = new FileOutputStream(FILE_NAME);
        fos.write(writeBytes);
        fos.close();
        // 파일에서 읽기
        FileInputStream fis = new FileInputStream(FILE_NAME);
        byte[] readBytes = fis.readAllBytes();
        fis.close();
        // byte -> String UTF-8 디코딩
        String readString = new String(readBytes, UTF_8);
        System.out.println("read bytes: " + Arrays.toString(writeBytes));
        System.out.println("read String: " + readString);
    }
}
```
```
write String: ABC
write bytes: [65, 66, 67]
read bytes: [65, 66, 67]
read String: ABC
```
`OutputStreamWriter`, `InputStreamReader`는 바로 String, char[]를 사용할 수 있도록 한다.
- 하지만 파일에는 항상 byte 단위로 저장이 된다.

`FileWriter`는 이런 것도 귀찮게 안해도 되고 알아서 내부에서 `FileOutputStream`를 생성하도록 한다. 


## 새롭게 안 사실
- 하지만 파일에는 항상 byte 단위로 저장이 된다. 그래서 사용자는 String을 바로 저장하는 것처럼 생각되지만, 실제로는 byte를 저장하고 있는 것이다.
- 

